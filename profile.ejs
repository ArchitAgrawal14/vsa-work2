<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Your Profile</title>
</head>
<body>
    <%- include("header.ejs") %>
    <% if (user_data) { %>
    <div class="col-lg-4 mx-4">
        <img src="<%= user_data.user_img %>" class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder" preserveAspectRatio="xMidYMid slice" focusable="false"><title><%= user_data.full_name %></title><rect width="100%" height="100%" fill="var(--bs-secondary-color)"></rect>
        <h2 class="fw-normal"><%= user_data.full_name %></h2>
    </div>
    <div class="row g-3 mx-4">
        <div class="col-md-6">
            <label for="inputEmail4" class="form-label">Email</label>
            <input type="email" class="form-control" id="inputEmail4" readonly value="<%= user_data.email %>">
        </div>
        <!-- <div class="col-md-6">
            <label for="inputPassword4" class="form-label">Password</label>
            <input type="password" class="form-control" id="inputPassword4" readonly value="">
        </div> -->
        <% if (user_data.mobile_number) { %>
        <div class="col-md-4">
            <label for="inputMobileNumber" class="form-label">Mobile Number</label>
            <input type="text" class="form-control" id="inputMobileNumber" readonly value="<%= user_data.mobile_number %>">
        </div>
        <% } else { %>
        <form action="/EnterMobileNumber" method="post">
            <div class="col-md-4">
                <label for="inputMobileNumber" class="form-label">Mobile Number</label>
                <input type="text" class="form-control" id="inputMobileNumber" name="mobile_number" placeholder="Enter Mobile Number">
                <input type="submit">
            </div>
        </form>
        <% } %>

        <% if (user_data_address && user_data_address.address) { %>
        <div class="col-12">
            <label for="inputAddress" class="form-label">Address</label>
            <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" value="<%= user_data_address.address %>">
        </div>
        <% } else { %>
        <form action="/EnterAddress" method="post">
            <div class="col-12">
                <label for="inputAddress" class="form-label">Address</label>
                <input type="text" class="form-control" id="inputAddress" name="address" placeholder="Enter Address">
            </div>
        </form>
        <% } %>

        <% if (user_data_address && user_data_address.city) { %>
        <div class="col-md-6">
            <label for="inputCity" class="form-label">City</label>
            <input type="text" class="form-control" id="inputCity" value="<%= user_data_address.city %>">
        </div>
        <% } else { %>
        <form action="/EnterCity" method="post">
            <div class="col-md-6">
                <label for="inputCity" class="form-label">City</label>
                <input type="text" class="form-control" id="inputCity" name="city" placeholder="Enter City">
            </div>
        </form>
        <% } %>

        <% if (user_data_address && user_data_address.state) { %>
        <div class="col-md-4">
            <label for="inputState" class="form-label">State</label>
            <input type="text" class="form-control" id="inputState" value="<%= user_data_address.state %>">
        </div>
        <% } else { %>
        <form action="/EnterState" method="post">
            <div class="col-md-4">
                <label for="inputState" class="form-label">State</label>
                <input type="text" class="form-control" id="inputState" name="state" placeholder="Enter State">
            </div>
        </form>
        <% } %>

        <% if (user_data_address && user_data_address.zip_code) { %>
        <div class="col-md-2">
            <label for="inputZip" class="form-label">Zip</label>
            <input type="text" class="form-control" id="inputZip" value="<%= user_data_address.zip_code %>">
        </div>
        <% } else { %>
        <form action="/EnterZip" method="post">
            <div class="col-md-2">
                <label for="inputZip" class="form-label">Zip</label>
                <input type="text" name="zip_code" class="form-control" id="inputZip" placeholder="Enter Zip Code">
            </div>
        </form>
        <% } %>
        <div class="col-12">
            <a href="/Logout"><button type="submit" class="btn btn-primary">Logout</button></a>
        </div>
    </div>
    <% } %>
</body>
</html>
